<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Tra cá»©u | EricTravel</title>

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Philosopher:ital,wght@0,400;0,700;1,400;1,700&display=swap"
      rel="stylesheet"
    />

    <!-- External CSS -->
    <link rel="stylesheet" href="./assets/css/reset.css" />
    <link rel="stylesheet" href="./assets/css/style.css" />
  </head>

  <body>
    <!-- Header -->
    <header class="header fixed">
      <div class="main-content">
        <div class="body">
          <img src="./assets/img/logo.png" alt="EricTravel" class="logo" />
          <span
            style="font-weight: bold; font-size: 1.625rem; margin-left: 8px"
          >
            <span style="color: #000">Eric</span
            ><span style="color: #2d7c2d">Travel</span>
          </span>
          <nav class="nav">
            <ul>
              <li><a href="index.html">Trang chá»§</a></li>
              <li><a href="index.html#about">Giá»›i thiá»‡u</a></li>
              <li><a href="index.html#guide">HÆ°á»›ng dáº«n</a></li>
              <li><a href="lookup.html">Tra cá»©u</a></li>
            </ul>
          </nav>
          <div class="action">
            <a href="dashboard.html" class="btn btn-dashboard">Dashboard</a>
          </div>
        </div>
      </div>
    </header>

    <!-- Main -->
    <main
      style="
        padding: 140px 24px 120px;
        max-width: 1240px;
        margin: 0 auto;
        font-family: 'Philosopher', sans-serif;
      "
    >
      <h1
        style="
          font-size: 32px;
          color: #2d7c2d;
          margin-bottom: 32px;
          text-align: center;
          font-weight: 700;
        "
      >
        ğŸ” Tra cá»©u Ä‘á»‹a Ä‘iá»ƒm du lá»‹ch gáº§n báº¡n
      </h1>

      <!-- CÃ¡c nÃºt chá»n loáº¡i Ä‘á»‹a Ä‘iá»ƒm -->
      <div
        style="
          display: flex;
          justify-content: center;
          gap: 16px;
          margin-bottom: 32px;
          font-family: 'Philosopher', sans-serif;
        "
      >
        <button
          class="tab-btn"
          data-type="hotel"
          style="
            padding: 10px 20px;
            border: none;
            border-radius: 6px;
            background: #2d7c2d;
            color: white;
            font-weight: 600;
            font-size: 16px;
            cursor: pointer;
            font-family: 'Philosopher', sans-serif;
          "
        >
          KhÃ¡ch sáº¡n
        </button>
        <button
          class="tab-btn"
          data-type="restaurant"
          style="
            padding: 10px 20px;
            border: none;
            border-radius: 6px;
            background: #e0e0e0;
            color: black;
            font-weight: 600;
            font-size: 16px;
            cursor: pointer;
            font-family: 'Philosopher', sans-serif;
          "
        >
          NhÃ  hÃ ng
        </button>
        <button
          class="tab-btn"
          data-type="attraction"
          style="
            padding: 10px 20px;
            border: none;
            border-radius: 6px;
            background: #e0e0e0;
            color: black;
            font-weight: 600;
            font-size: 16px;
            cursor: pointer;
            font-family: 'Philosopher', sans-serif;
          "
        >
          Äiá»ƒm du lá»‹ch
        </button>
      </div>

      <!-- Ã” nháº­p Ä‘á»‹a chá»‰ -->
      <div style="text-align: center; margin-bottom: 16px">
        <input
          type="text"
          id="addressInput"
          placeholder="Nháº­p Ä‘á»‹a chá»‰ cá»§a báº¡n (VD: Tháº¡ch BÃ n, Long BiÃªn, HÃ  Ná»™i)"
          style="
            width: 400px;
            max-width: 90%;
            padding: 12px;
            border: 1px solid #ccc;
            border-radius: 6px;
            font-size: 16px;
            font-family: 'Philosopher', sans-serif;
          "
        />
      </div>

      <!-- NÃºt tÃ¬m kiáº¿m -->
      <div style="text-align: center">
        <button
          id="searchBtn"
          style="
            padding: 10px 24px;
            font-size: 16px;
            background-color: #2d7c2d;
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-family: 'Philosopher', sans-serif;
            font-weight: 600;
          "
          onclick="searchPlaces()"
        >
          TÃ¬m kiáº¿m
        </button>
      </div>

      <!-- Káº¿t quáº£ tráº£ vá» -->
      <div
        id="resultBox"
        style="
          margin-top: 48px;
          max-width: 800px;
          margin-inline: auto;
          font-size: 1.4rem;
          text-align: left;
          font-family: 'Philosopher', sans-serif;
        "
      ></div>
    </main>

    <!-- Footer -->
    <footer class="footer">
      <div class="main-content">
        <div class="row">
          <div class="column">
            <h3 class="footer-logo">
              Eric<span class="highlight-green">Travel</span>
            </h3>
            <p class="slogan">Dáº«n lá»‘i cho chuyáº¿n Ä‘i hoÃ n háº£o ...</p>
            <p>
              <strong>Äá»‹a chá»‰:</strong><br />1 Ä. Äáº¡i Cá»“ Viá»‡t, BÃ¡ch Khoa,<br />Hai
              BÃ  TrÆ°ng, HÃ  Ná»™i
            </p>
            <p>
              <strong>LiÃªn há»‡:</strong
              ><br />0972610164<br />son.dm216879@sis.hust.edu.vn
            </p>
          </div>
          <div class="column">
            <h3 class="title">Dá»‹ch vá»¥</h3>
            <ul class="list">
              <li><a href="index.html#about">PhÃ¢n tÃ­ch du lá»‹ch</a></li>
              <li><a href="lookup.html">Tra cá»©u du lá»‹ch</a></li>
              <li><a href="dashboard.html">Dashboard bÃ¡o cÃ¡o</a></li>
            </ul>
          </div>
          <div class="column">
            <h3 class="title">ChÃ­nh sÃ¡ch & Quy Ä‘á»‹nh</h3>
            <ul class="list">
              <li>
                <a href="policy.html#huongdansudung">CÃ¡ch thá»©c sá»­ dá»¥ng</a>
              </li>
              <li><a href="policy.html#dieukhoan">Äiá»u khoáº£n sá»­ dá»¥ng</a></li>
              <li><a href="policy.html#lienhe">LiÃªn há»‡ há»— trá»£</a></li>
            </ul>
          </div>
          <div class="column social-column">
            <h3 class="title">Káº¿t ná»‘i vá»›i tÃ´i</h3>
            <div class="social-icons">
              <a href="https://www.linkedin.com/in/son-dao-mai/"
                ><img src="./assets/img/linkedin.svg" alt="LinkedIn"
              /></a>
              <a href="https://www.instagram.com/_ericmaison/"
                ><img src="./assets/img/instagram.svg" alt="Instagram"
              /></a>
              <a href="https://www.facebook.com/eric.maison17"
                ><img src="./assets/img/facebook.svg" alt="Facebook"
              /></a>
            </div>
          </div>
        </div>
      </div>
      <div class="footer-bottom">Â© 2025, EricTravel.inc</div>
    </footer>

    <!-- JS -->
    <script>
      // Chá»n tab
      let selectedType = 'hotel';
      document.querySelectorAll('.tab-btn').forEach(btn => {
        btn.addEventListener('click', () => {
          document.querySelectorAll('.tab-btn').forEach(b => {
            b.classList.remove('active');
            b.style.background = '#e0e0e0';
            b.style.color = 'black';
          });
          btn.classList.add('active');
          btn.style.background = '#2d7c2d';
          btn.style.color = 'white';
          selectedType = btn.dataset.type;
        });
      });

      async function searchPlaces() {
        const address = document.getElementById('addressInput').value;
        const resultBox = document.getElementById('resultBox');
        resultBox.innerHTML = 'â³ Äang tÃ¬m kiáº¿m...';

        const apiMap = {
          hotel: 'search_hotels',
          restaurant: 'search_restaurants',
          attraction: 'search_attractions'
        };

        try {
          const res = await fetch(`https://web-datn-vxts.onrender.com/api/${apiMap[selectedType]}?address=${encodeURIComponent(address)}&radius=10`);
          const data = await res.json();
          if (data.status === 'success') {
            const records = data[selectedType + 's'];
            if (records.length === 0) {
              resultBox.innerHTML = 'âš ï¸ KhÃ´ng tÃ¬m tháº¥y káº¿t quáº£ trong bÃ¡n kÃ­nh.';
              return;
            }
            let html = '';
            records.forEach((item, i) => {
              html += '<div style="margin-bottom:16px; border-bottom:1px solid #ccc; padding-bottom:12px; font-family:\'Philosopher\',sans-serif; color:#333;">';
              // TiÃªu Ä‘á»
              const title = (selectedType === 'restaurant') ? item['Restaurant Name'] : item.Name;
              html += `<strong>${i+1}. ${title}</strong><br/>`;
              html += `ğŸ“ ${item.Address}<br/>`;
              // Fields riÃªng cho tá»«ng loáº¡i
              if (selectedType === 'hotel') {
                html += `ğŸ’° GiÃ¡: ${item.Price || 'N/A'} USD<br/>`;
                html += `ğŸ“ Äiá»‡n thoáº¡i: ${item['Phone Number'] || 'N/A'}<br/>`;
                html += `ğŸŒ Website: <a href="${item.Website}" target="_blank">${item.Website}</a><br/>`;
                html += `â­ ${item['Overall Rating Value']}/5 (${item['Overall Review Count']} Ä‘Ã¡nh giÃ¡)<br/>`;
              } else if (selectedType === 'restaurant') {
                html += `ğŸ’° Má»©c giÃ¡: ${item.Price_Category || 'N/A'}<br/>`;
                html += `â° Giá» má»Ÿ cá»­a: ${item['Opening and Closing hours'] || 'N/A'}<br/>`;
                html += `ğŸ“ Hotline: ${item.Hotline || 'N/A'}<br/>`;
                html += `ğŸŒ Website: <a href="${item['Restaurant Website']}" target="_blank">${item['Restaurant Website']}</a><br/>`;
                html += `â­ ${item.Rating}/5 (${item.Reviewers} Ä‘Ã¡nh giÃ¡)<br/>`;
              } else { // attraction
                html += `â³ Thá»i lÆ°á»£ng: ${item.Duration || 'N/A'}<br/>`;
                html += `ğŸ’° GiÃ¡ vÃ©: ${item.Price || 'N/A'}<br/>`;
                html += `ğŸ“ Äiá»‡n thoáº¡i: ${item['Phone Number'] || 'N/A'}<br/>`;
                html += `ğŸŒ Website: <a href="${item.Website}" target="_blank">${item.Website}</a><br/>`;
                html += `â­ ${item.Rating}/5 (${item['Review Count']} Ä‘Ã¡nh giÃ¡)<br/>`;
              }
              html += `ğŸ“ Khoáº£ng cÃ¡ch: ${item.distance} km`;
              html += '</div>';
            });
            resultBox.innerHTML = html;
          } else {
            resultBox.innerHTML = 'âŒ KhÃ´ng tÃ¬m tháº¥y Ä‘á»‹a Ä‘iá»ƒm.';
          }
        } catch (err) {
          resultBox.innerHTML = 'âŒ Lá»—i káº¿t ná»‘i API.';
          console.error(err);
        }
      }

      // Báº¯t Enter
      document.getElementById('addressInput').addEventListener('keydown', e => {
        if (e.key === 'Enter') {
          e.preventDefault(); searchPlaces();
        }
      });
    </script>
  </body>
</html>

  </body>
</html>
